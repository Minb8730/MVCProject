<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
			"-//mybatis.org//DTD Mapper 3.0//EN" 
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
			
<mapper namespace="com.itbank.member.MemberDAO">

	<insert id="insert" parameterType="member">
	insert into member(
   		 member_number, member_email, member_name, member_password, member_nick, member_phone, member_addr,  member_gender   
		)
	values(
   		 #{member_number} || to_char(member_seq.nextval,'FM00000'), #{member_email}, #{member_name}, #{member_password}, #{member_nick}, #{member_phone}, #{member_addr} , #{member_gender}
		)
	
	</insert>
	
	
	<select id="selectOne" resultType="member" parameterType="member">
	select * from member
		where
			member_email = #{member_email}
			and
			member_password = #{member_password}
			and
			member_deleted = 'n'
	
	</select>
	
	<select id="selectOne2" resultType="member" parameterType="member">
	select * from member
		where
			member_email = #{member_email}
			and
			member_deleted = 'n'

	</select>
	
	
	<update id="modify" parameterType="member">	
		update member set
			member_nick = #{member_nick},
			member_phone = #{member_phone},
			member_addr = #{member_addr},
			member_gender = #{member_gender}
		where
			member_email = #{member_email}
	</update>

</mapper>





